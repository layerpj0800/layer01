5‑단계 액션 플랜 개요
백엔드 기반 구축 – 데이터베이스 엔진, ORM 모델, 마이그레이션 설정

인증·권한 – JWT/쿠키 기반 인증, 사용자·역할 관리

구독·결제 흐름 – 플랜, 정기결제, 웹훅 검증

콘텐츠·미디어 처리 – 게시글·영상 업로드, 큐 워커, CDN 연동

실시간·운영 도구 – 채팅, 알림, 관리자 페이지, 모니터링

##1단계 기반구축 

백엔드용으로 재사용 가능한 비동기 SQLAlchemy 엔진과 세션 헬퍼를 추가함.

향후 기능 확장을 위한 기반으로 User와 Channel 모델을 구현함.

Alembic 설정을 세팅하고, 초기 마이그레이션으로 users와 channels 테이블을 생성하도록 구성함.

환경 변수에 대해 필요한 시크릿 값들을 인라인 가이드로 문서화함.


##2단계 인증 권한 

JWT 인증을 지원하기 위해

설정 가능한 액세스 토큰 만료 시간과

추가 시크릿 키들을 환경 템플릿에 도입함.

FastAPI 기반으로

회원가입, 로그인, “내 정보(me)” API 엔드포인트를 구현했으며,

비밀번호는 해싱해서 저장하고,

JWT 토큰을 쿠키에 심어주도록 했고,

역할(Role) 기반 접근 제어(guard)도 적용함.

Pydantic 설정 클래스와 사용자 스키마를 추가해서

데이터 처리를 안전하게 하고,

토큰 응답 구조도 정의함.

Next.js 기반 최소한의 로그인·회원가입 페이지를 스캐폴딩(초안 생성)해서

추후 프론트엔드 통합에 사용할 준비를 해둠.

##3단계 구독 결제 흐름 

환경 템플릿에 아임포트 결제 관련 추가 시크릿 값들과 웹훅 서명 검증 요구사항을 문서화해서, 환경별로 일관된 설정을 유지할 수 있도록 함.

설정 클래스(settings class)를 확장하여, 애플리케이션 시작 시 새로운 아임포트 API 시크릿과 웹훅 시크릿 값을 불러오도록 함.

Plan(요금제)과 Subscription(구독) ORM 모델과 API 엔드포인트를 추가하여,

크리에이터가 유료 요금제를 정의할 수 있고,

구독자가 이를 활성화해 접근 권한을 얻을 수 있게 함.

아임포트 웹훅 엔드포인트를 구현해서,

웹훅 서명을 검증하고,

결제 이벤트를 기록하며,

구독 상태를 해당 이벤트에 맞게 업데이트하도록 함.